{"version":3,"file":"builder.js","sourceRoot":"","sources":["../src/builder.ts"],"names":[],"mappings":"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","sourcesContent":["/**\n * Type-safe builder API with IntelliSense support for aliases and conditions\n * Uses csstype for comprehensive CSS property autocomplete\n */\n\nimport type * as CSS from 'csstype';\nimport type { Theme, Breakpoint, State } from './types.js';\nimport { DEFAULT_ALIASES, getAllAliases } from './aliases.js';\n\n/**\n * All available property aliases\n */\nexport type PropertyAlias = keyof typeof DEFAULT_ALIASES;\n\n/**\n * All CSS properties (from csstype) + our property aliases\n * Provides full IntelliSense for both standard CSS properties and aliases\n */\nexport type CSSProperty = keyof CSS.Properties | PropertyAlias | (string & {});\n\n/**\n * Builder for creating type-safe style declarations with IntelliSense\n */\nexport class StyleBuilder {\n  private declarations: string[] = [];\n\n  /**\n   * Add a base style (no conditions)\n   *\n   * @example\n   * builder.style('bg', 'blue').style('text', 'white')\n   */\n  style(property: CSSProperty, value: string): this {\n    this.declarations.push(`${property}:${value}`);\n    return this;\n  }\n\n  /**\n   * Add a themed style\n   *\n   * @example\n   * builder.themed('dark', 'bg', 'black')\n   */\n  themed(theme: Theme, property: CSSProperty, value: string): this {\n    this.declarations.push(`${theme}:${property}:${value}`);\n    return this;\n  }\n\n  /**\n   * Add a responsive style (breakpoint)\n   *\n   * @example\n   * builder.responsive('md', 'p', '20px')\n   */\n  responsive(breakpoint: Breakpoint, property: CSSProperty, value: string): this {\n    this.declarations.push(`${breakpoint}:${property}:${value}`);\n    return this;\n  }\n\n  /**\n   * Add a state-based style (hover, focus, etc.)\n   *\n   * @example\n   * builder.state('hover', 'bg', 'darkblue')\n   */\n  state(state: State, property: CSSProperty, value: string): this {\n    this.declarations.push(`${state}:${property}:${value}`);\n    return this;\n  }\n\n  /**\n   * Add a style with multiple conditions\n   *\n   * @example\n   * builder.conditional({ theme: 'dark', breakpoint: 'md', state: 'hover' }, 'bg', 'purple')\n   */\n  conditional(\n    conditions: {\n      theme?: Theme;\n      breakpoint?: Breakpoint;\n      state?: State;\n    },\n    property: CSSProperty,\n    value: string\n  ): this {\n    const parts: string[] = [];\n    if (conditions.theme) parts.push(conditions.theme);\n    if (conditions.breakpoint) parts.push(conditions.breakpoint);\n    if (conditions.state) parts.push(conditions.state);\n    parts.push(property, value);\n    this.declarations.push(parts.join(':'));\n    return this;\n  }\n\n  /**\n   * Build the final style string\n   */\n  build(): string {\n    return this.declarations.join('; ');\n  }\n\n  /**\n   * Clear all declarations\n   */\n  clear(): this {\n    this.declarations = [];\n    return this;\n  }\n}\n\n/**\n * Create a new style builder instance with IntelliSense support\n *\n * @example\n * const styles = createStyleBuilder()\n *   .style('bg', 'blue')\n *   .style('text', 'white')\n *   .style('p', '10px 20px')\n *   .themed('dark', 'bg', 'black')\n *   .responsive('md', 'p', '20px 40px')\n *   .state('hover', 'opacity', '0.8')\n *   .build();\n *\n * parse(styles);\n */\nexport function createStyleBuilder(): StyleBuilder {\n  return new StyleBuilder();\n}\n\n/**\n * Utility type for style object with IntelliSense\n * Provides autocomplete for CSS properties and property aliases\n */\nexport type StyleObject = Partial<CSS.Properties> & Partial<Record<PropertyAlias, string>> & {\n  [key: string]: string | undefined;\n};\n\n/**\n * Convert a style object to string format with IntelliSense for properties\n * Supports standard CSS properties, aliases, and conditional styles\n *\n * @example\n * const styles = styleObject({\n *   background: 'blue',  // Standard CSS with IntelliSense\n *   bg: 'blue',          // Alias with IntelliSense\n *   text: 'white',\n *   padding: '10px 20px',\n *   'dark:bg': 'black',  // Conditional styles\n *   'md:p': '20px 40px',\n *   'hover:opacity': '0.8'\n * });\n */\nexport function styleObject(styles: StyleObject): string {\n  return Object.entries(styles)\n    .filter(([, value]) => value !== undefined)\n    .map(([key, value]) => `${key}:${value}`)\n    .join('; ');\n}\n\n/**\n * Get all available aliases for IntelliSense/autocomplete in external tools\n * Returns both the alias and the full property name\n */\nexport function getAliasHints(): Array<{ alias: string; property: string; category: string }> {\n  const aliases = getAllAliases();\n  const hints: Array<{ alias: string; property: string; category: string }> = [];\n\n  // Categorize aliases for better IntelliSense\n  const categories: Record<string, string[]> = {\n    'Background': ['bg', 'bg-color', 'bg-image', 'bg-size', 'bg-position', 'bg-repeat', 'bg-attachment', 'bg-clip', 'bg-origin'],\n    'Typography': ['text', 'size'],\n    'Spacing': ['m', 'mt', 'mr', 'mb', 'ml', 'mx', 'my', 'ms', 'me', 'p', 'pt', 'pr', 'pb', 'pl', 'px', 'py', 'ps', 'pe'],\n    'Sizing': ['w', 'h', 'min-w', 'max-w', 'min-h', 'max-h'],\n    'Border': ['border-w', 'border-t', 'border-r', 'border-b', 'border-l'],\n    'Layout': ['z', 'inset-x', 'inset-y', 'start', 'end'],\n    'Flexbox': ['justify', 'items', 'align', 'grow', 'shrink', 'basis'],\n    'Grid': ['grid-cols', 'grid-rows', 'col', 'col-start', 'col-end', 'row', 'row-start', 'row-end', 'gap-x', 'gap-y', 'space-x', 'space-y'],\n    'Effects': ['shadow', 'mix-blend', 'bg-blend'],\n    'Transforms': ['origin'],\n    'Animation': ['duration', 'delay', 'animate'],\n    'Overflow': ['overscroll', 'overscroll-x', 'overscroll-y'],\n    'Other': []\n  };\n\n  for (const [alias, property] of Object.entries(aliases)) {\n    let category = 'Other';\n    for (const [cat, aliasList] of Object.entries(categories)) {\n      if (aliasList.includes(alias)) {\n        category = cat;\n        break;\n      }\n    }\n    hints.push({ alias, property, category });\n  }\n\n  return hints.sort((a, b) => {\n    if (a.category !== b.category) {\n      return a.category.localeCompare(b.category);\n    }\n    return a.alias.localeCompare(b.alias);\n  });\n}\n"]}